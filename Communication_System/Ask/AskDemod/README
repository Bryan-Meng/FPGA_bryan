解调部分Verilog代码详解
采用非相干解调，代码主要分为三部分，解调、判决和位同步
解调
首先对输入信号进行整流，将整流后的信号进行低通滤波，滤波器配置可以参考xilinx官方手册
根据滤波器系数，可知滤波后输出数据最大位宽为输入数据位宽+14位，因此，最高数据位为21，21 down to 8做为输出数据。

判决(2ASK)
将解调后的波形输入到14位，长度为256的移位寄存器中，计算均值，波形大于均值，判定为1,小于均值判定为0

位同步-超前滞后锁相环
整个环路分为四个部分：鉴相器、时钟转换、控制以及分频
理解超前滞后锁相环可以参考时序图去理解
鉴相器检测跳变，输出信号din_edge，din_edge和clk_i、clk_q作与运算，产生超前/滞后信号，由于clk_i和clk_q是同频反向信号，因此只要有跳变信号din_edge，就会产生一个超前或者滞后信号
超前/滞后信号会输入到单稳态触发器中，单稳态触发器会产生4个（一个码元宽度采样点数一半）clk4时钟周期的信号，这是由于clk_d1和clk_d2是由clk4四分频得到的占空比为1：3的时钟信号，单稳态触发器产生4个clk4时钟周期的信号，和clk_d1以及clk_d2做
与运算，可以确保通过一个clk_d1或一个clk_d2信号，clk_d1和clk_d2信号相位差180.
gate_open会一直通过clk_d2的信号，如果超前信号来了，gate_open会暂时关闭，使得clk_in少一个信号，继而使得clk_i和clk_q持续时间更长，调整相位
如果滞后信号来了，gate_close会暂时打开，使得clk_in多一个信号，继而使得clk_i和clk_q持续时间更短，不断调整，完成锁相。

存在一个问题，即使锁相了，整个回路要么在超前态，要么在滞后态，会在两个态之间发生相位抖动。
因此最后对clk_i作了同步处理，避免相位抖动，具体来说就是对同步信号作了一个下降沿检测，由于码元宽度等于同步信号的时钟周期，因此下降沿刚好是码元中心，为最佳采样点。
